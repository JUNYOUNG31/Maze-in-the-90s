```bash
$ sudo apt-get update
$ sudo apt-get install -y build-essential
$ sudo apt-get install curl
```



yarn 설치

```bash
$ curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -
$ echo "deb https://dl.yarnpkg.com/debian/ stable main" | sudo tee /etc/apt/sources.list.d/yarn.list
$ sudo apt update 
$ sudo apt install yarn
```



node 16 설치

```bash
$ curl -fsSL https://deb.nodesource.com/setup_16.x | sudo -E bash -
$ sudo apt-get install -y nodejs
```



```bash
$ yarn install
$ yarn start  # 로컬 작동 테스트

# 감시폴더 개수 에러
Error: ENOSPC: System limit for number of file watchers reached

# 제한값
$ cat /proc/sys/fs/inotify/max_user_watches 
# 제한 해제
$ echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf && sudo sysctl -p
$ yarn start  # 로컬 작동 테스트
$ yarn build
```



nginx 설치

```bash
$ sudo apt install nginx
$ sudo rm /etc/nginx/sites-available/default  # 설정 안겹치도록 삭제
ㅊ
$ sudo vi /etc/nginx/sites-available/default
```

nginx 설정

```
server {
   listen 80;
   server_name {도메인주소} {www.도메인주소};
   location / {
      root /home/ubuntu/jen_test(프로젝트폴더)/build;
      index index.html;
      try_files $uri $uri/ /index.html;
   }
}
```

:wq

심볼릭 링크 생성

```bash
$ sudo ln -s /etc/nginx/sites-available/default /etc/nginx/sites-enabled/default
```

재기동

```bash
$ sudo systemctl restart nginx
# $ sudo systemctl stop nginx 정지
# $ sudo systemctl start nginx 시작
$ sudo systemctl status nginx
```



